<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AB test</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="container">
    <h2 class="heading">Do you want to buy this?</h2>

    <div id="button-parent">
        <button class="button" id="no" onclick="registerClick(0)">No</button>
        <button class="button button-alt" id="yes" onclick="registerClick(1)">Yes</button>
    </div>
</div>


<script>
    function rearrangeButtons(variant) {
        let buttonYes = document.getElementById("yes");
        let buttonNo = document.getElementById("no");

		if (variant) {
			buttonYes.parentNode.insertBefore(buttonYes, buttonNo);
        }
    }

	function registerClick(clickedYes) {
		let data = {
			variant: window.VARIANT,
			clickedYes: clickedYes
        };

		fetch('postData.php', {
			method: 'POST',
			headers: {
				'Content-Type': 'application/json',
			},
			body: JSON.stringify(data),
		});
	}

    function main() {
		let variant = Math.round(Math.random());
		window.VARIANT = variant;
        rearrangeButtons(variant);
    }

    window.onload = main;
</script>

</body>
</html>
